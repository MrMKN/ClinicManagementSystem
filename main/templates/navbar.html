{% load static %}



<style>
    @import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap");

    :root {
        --header-height: 3rem;
        --nav-height: 4rem;
        --first-color: #a292e0; /* Adjusted */
        --first-color-light: #AFA5D9;
        --white-color: #F7F6FB;
        --body-font: 'Nunito', sans-serif;
        --normal-font-size: 1rem;
        --z-fixed: 100;
    }

    a {
        text-decoration: none!important;
    }

    nav {
        width: 100%;
        height: var(--nav-height);
        background-color: var(--first-color);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .nav_logo {
        display: flex;
        align-items: center;
        padding: 0 1rem;
    }

    .nav_list {
        display: flex;
        align-items: center;
    }

    .nav_link {
        color: var(--white-color);
        display: flex;
        align-items: center;
        padding: 0 1rem;
        transition: .3s;
    }

    .nav_link:hover {

        color:rgb(175, 202, 241);
        border-radius: 5px;
    }

    .nav_icon {
        font-size: 1.25rem;
        margin-right: 0.5rem;
    }

    .active {
        color:rgb(96, 230, 196);
    }

    .nav_logo img {
        width: 35px;
        height: 35px;
    }

    .nav_toggle {
        display: none;
        font-size: 1.5rem;
        color: var(--white-color);
        cursor: pointer;
        background: none;
        border: none;
    }

    /* Dropdown Menu Styles */
    #settingsDropdown {
        color: white;
    }

    .dropdown-menu {
        display: none;
        position: absolute;
        background-color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        z-index: 1000!important;
        min-width: 200px;
    }

    .dropdown-menu.show {
        display: block;
    }

    .dropdown-menu .dropdown-item {
        padding: 10px 20px;
        display: block;
        width: 100%;
        color: #333;
        text-decoration: none;
    }

    .dropdown-menu .dropdown-item:hover {
        background-color: #f1f1f1;
    }

    @media screen and (max-width: 768px) {

        .nav_logo img {
            width: 40px;
            height: 40px;
        }

        .nav_list {
            display: none;
            flex-direction: column;
            top: var(--nav-height);
            left: 0;
            width: 100%;
            background-color: var(--first-color);
            padding: 1rem 0;
        }

        .nav_list.active {
            display: flex;
        }

        .nav_link {
            padding: 1rem;
            width: 100%;
            text-align: center;
        }

        .nav_toggle {
            display: block;
        }
    }

</style>

<nav>
    <div class="d-flex">
        <a href="{% url 'index' %}" class="nav_logo"><img src="{% static 'icons/favicon.svg' %}" alt="logo"></a>
        <!-- Mobile screen toggle -->
        <button class="nav_toggle" id="nav-toggle"><i class='bx bx-menu'></i></button>
    </div>

    <div class="nav_list" id="nav-menu">
        <a href="{% url 'index' %}" class="nav_link {% if request.path == '/index/' %} active {% endif %}">
            <i class='bx bx-grid-alt nav_icon'></i> <span class="nav_name">Dashboard</span>
        </a>
        <a href="{% url 'appoinment' %}" class="nav_link {% if request.path == '/appoinment/' %} active {% endif %}">
            <i class='bi bi-calendar-check nav_icon'></i> <span class="nav_name">Appointment</span>
        </a>
        <a href="{% url 'staff' %}" class="nav_link {% if request.path == '/staff/' %} active {% endif %}">
            <i class="bi bi-people nav_icon"></i> <span class="nav_name">Staff</span>
        </a>
        <a href="{% url 'front_office' %}" class="nav_link {% if request.path == '/front_office/' %} active {% endif %}">
            <i class='bx bx-message-square-detail nav_icon'></i> <span class="nav_name">Front Office</span>
        </a>

        <div class="dropdown">
            <a class="nav_link dropdown-toggle" id="settingsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class='bi bi-gear nav_icon'></i> <span class="nav_name">Settings</span>
            </a>

            <div class="dropdown-menu" aria-labelledby="#settingsDropdown">
                <a class="dropdown-item" href="{% url 'charge' %}"> <i class="bi bi-receipt"></i> Hospital Charges</a>
                <a class="dropdown-item" href="#"> <i class="bi bi-list-columns-reverse"></i> Details</a>
                <a class="dropdown-item" href="{% url 'shift' %}"> <i class='bi bi-calendar-check nav_icon'></i> Appoinment</a>
                <a class="dropdown-item" href="#"> <i class="bi bi-heart-pulse nav_icon"></i> Doctor Settings</a>
                <a class="dropdown-item" href="{% url 'role' %}"> <i class="bi bi-people"></i> Staff Settings</a>
            </div>
        </div>
    </div>


    <div class="d-flex">

        <form class="mt-3" role="search" method="POST" action="{% url 'patients' %}" style="margin: 0!important;">
            {% csrf_token %}

            <div class="input-group">
                <input type="text" name="name" placeholder="Search Patient" style="padding-left: 6px; border-radius: 15px 0px 0px 15px !important; border: none!important; width: 50%;">
                <span class="input-group-btn">
                    <button type="submit" name="search" id="search-btn" style="border-radius: 0px 15px 15px 0px; background: #fff;" class="btn btn-flat"><i class="bi bi-search color-black"></i></button>
                </span>
            </div>
        </form>

        <!-- <a href="{% url 'logout' %}" class="nav_link">
            <i class='bx bx-log-out nav_icon'></i> <span class="nav_name"></span>
        </a> -->
    </div>

</nav>




<script>
    document.addEventListener('DOMContentLoaded', function() {
        const toggleButton = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');

        toggleButton.addEventListener('click', function() {
            navMenu.classList.toggle('active');
        });
    });
    // JavaScript to Toggle Dropdown
    document.addEventListener('DOMContentLoaded', function() {
        var dropdownToggle = document.getElementById('settingsDropdown');
        var dropdownMenu = dropdownToggle.nextElementSibling;

        dropdownToggle.addEventListener('click', function(event) {
            event.preventDefault();
            dropdownMenu.classList.toggle('show');
        });

        // Close dropdown if clicked outside
        document.addEventListener('click', function(event) {
            if (!dropdownToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
                dropdownMenu.classList.remove('show');
            }
        });
    });
</script>
